<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Mini-WeChat Pro</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="app">
        <div id="auth-container">
            <h2>微信登录</h2>
            <input type="text" id="username" placeholder="用户名">
            <input type="password" id="password" placeholder="密码">
            <button onclick="handleAuth('login')">登录</button>
            <button style="background: #555;" onclick="handleAuth('register')">注册账号</button>
        </div>

        <div id="chat-container" class="hidden">
            <div id="chat-window"></div>
            
            <div id="input-area">
                <div id="reply-bar" class="reply-preview hidden">
                    <span id="reply-text"></span>
                    <span style="cursor:pointer" onclick="cancelReply()">✕</span>
                </div>
                
                <div class="input-row">
                    <input type="text" id="msgInput" placeholder="请输入消息...">
                    <button onclick="sendText()">发送</button>
                </div>
                <div class="input-row">
                    <input type="file" id="fileInput" style="display:none" onchange="uploadFile()">
                    <button style="background:#28a745" onclick="document.getElementById('fileInput').click()">📁 图片/语音</button>
                    <input type="number" id="targetId" placeholder="目标用户ID" style="width:80px">
                </div>
            </div>
        </div>
    </div>
    <audio id="notifSound" src="notification.mp3"></audio>
    <script src="app.js"></script>
</body>
</html>